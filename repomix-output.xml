This file is a merged representation of a subset of the codebase, containing files not matching ignore patterns, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of a subset of the repository's contents that is considered the most important context.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching these patterns are excluded: ./**/*.md
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.claude/settings.local.json
.env.local
apps/dashboard/__init__.py
apps/dashboard/admin.py
apps/dashboard/apps.py
apps/dashboard/migrations/__init__.py
apps/dashboard/models.py
apps/dashboard/services.py
apps/dashboard/tests.py
apps/dashboard/utils/__init__.py
apps/dashboard/utils/chart_adapter.py
apps/dashboard/views.py
apps/ingest/__init__.py
apps/ingest/admin.py
apps/ingest/apps.py
apps/ingest/exceptions.py
apps/ingest/migrations/__init__.py
apps/ingest/models.py
apps/ingest/services.py
apps/ingest/tests.py
apps/ingest/views.py
config/__init__.py
config/asgi.py
config/settings.py
config/urls.py
config/wsgi.py
db.sqlite3
manage.py
requirements.txt
sample/department_kpi.csv
sample/publication_list.csv
sample/research_project_data.csv
sample/student_roster.csv
supabase/migrations/20251031000000_create_initial_tables.sql
templates/base.html
templates/dashboard/index.html
templates/registration/login.html
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="apps/dashboard/admin.py">
from django.contrib import admin

# Register your models here.
</file>

<file path="apps/dashboard/apps.py">
from django.apps import AppConfig


class DashboardConfig(AppConfig):
    default_auto_field = 'django.db.models.BigAutoField'
    name = 'dashboard'
</file>

<file path="apps/dashboard/models.py">
from django.db import models

# Create your models here.
</file>

<file path="apps/dashboard/tests.py">
from django.test import TestCase

# Create your tests here.
</file>

<file path="apps/dashboard/views.py">
from django.shortcuts import render

# Create your views here.
</file>

<file path="apps/ingest/admin.py">
from django.contrib import admin

# Register your models here.
</file>

<file path="apps/ingest/apps.py">
from django.apps import AppConfig


class IngestConfig(AppConfig):
    default_auto_field = 'django.db.models.BigAutoField'
    name = 'ingest'
</file>

<file path="apps/ingest/models.py">
from django.db import models

# Create your models here.
</file>

<file path="apps/ingest/tests.py">
from django.test import TestCase

# Create your tests here.
</file>

<file path="apps/ingest/views.py">
from django.shortcuts import render

# Create your views here.
</file>

<file path="config/asgi.py">
"""
ASGI config for config project.

It exposes the ASGI callable as a module-level variable named ``application``.

For more information on this file, see
https://docs.djangoproject.com/en/5.2/howto/deployment/asgi/
"""

import os

from django.core.asgi import get_asgi_application

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')

application = get_asgi_application()
</file>

<file path="config/settings.py">
"""
Django settings for config project.

Generated by 'django-admin startproject' using Django 5.2.7.

For more information on this file, see
https://docs.djangoproject.com/en/5.2/topics/settings/

For the full list of settings and their values, see
https://docs.djangoproject.com/en/5.2/ref/settings/
"""

from pathlib import Path

# Build paths inside the project like this: BASE_DIR / 'subdir'.
BASE_DIR = Path(__file__).resolve().parent.parent


# Quick-start development settings - unsuitable for production
# See https://docs.djangoproject.com/en/5.2/howto/deployment/checklist/

# SECURITY WARNING: keep the secret key used in production secret!
SECRET_KEY = 'django-insecure-7zmhq1y6lhc0hp)nmgvbr5ytc&4zh=melo4x=c-nr=+nq7xp8u'

# SECURITY WARNING: don't run with debug turned on in production!
DEBUG = True

ALLOWED_HOSTS = []


# Application definition

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
]

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]

ROOT_URLCONF = 'config.urls'

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

WSGI_APPLICATION = 'config.wsgi.application'


# Database
# https://docs.djangoproject.com/en/5.2/ref/settings/#databases

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}


# Password validation
# https://docs.djangoproject.com/en/5.2/ref/settings/#auth-password-validators

AUTH_PASSWORD_VALIDATORS = [
    {
        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',
    },
]


# Internationalization
# https://docs.djangoproject.com/en/5.2/topics/i18n/

LANGUAGE_CODE = 'en-us'

TIME_ZONE = 'UTC'

USE_I18N = True

USE_TZ = True


# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/5.2/howto/static-files/

STATIC_URL = 'static/'

# Default primary key field type
# https://docs.djangoproject.com/en/5.2/ref/settings/#default-auto-field

DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'
</file>

<file path="config/urls.py">
"""
URL configuration for config project.

The `urlpatterns` list routes URLs to views. For more information please see:
    https://docs.djangoproject.com/en/5.2/topics/http/urls/
Examples:
Function views
    1. Add an import:  from my_app import views
    2. Add a URL to urlpatterns:  path('', views.home, name='home')
Class-based views
    1. Add an import:  from other_app.views import Home
    2. Add a URL to urlpatterns:  path('', Home.as_view(), name='home')
Including another URLconf
    1. Import the include() function: from django.urls import include, path
    2. Add a URL to urlpatterns:  path('blog/', include('blog.urls'))
"""
from django.contrib import admin
from django.urls import path

urlpatterns = [
    path('admin/', admin.site.urls),
]
</file>

<file path="config/wsgi.py">
"""
WSGI config for config project.

It exposes the WSGI callable as a module-level variable named ``application``.

For more information on this file, see
https://docs.djangoproject.com/en/5.2/howto/deployment/wsgi/
"""

import os

from django.core.wsgi import get_wsgi_application

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')

application = get_wsgi_application()
</file>

<file path="manage.py">
#!/usr/bin/env python
"""Django's command-line utility for administrative tasks."""
import os
import sys


def main():
    """Run administrative tasks."""
    os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')
    try:
        from django.core.management import execute_from_command_line
    except ImportError as exc:
        raise ImportError(
            "Couldn't import Django. Are you sure it's installed and "
            "available on your PYTHONPATH environment variable? Did you "
            "forget to activate a virtual environment?"
        ) from exc
    execute_from_command_line(sys.argv)


if __name__ == '__main__':
    main()
</file>

<file path="templates/base.html">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Vibe Mafia Dashboard{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        {% block content %}{% endblock %}
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>
</file>

<file path="templates/dashboard/index.html">
{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Dashboard</h1>
    <div class="btn-toolbar mb-2 mb-md-0">
        {% if user.is_authenticated %}
            <span class="me-2">Welcome, {{ user.username }}!</span>
            <a href="{% url 'logout' %}" class="btn btn-sm btn-outline-secondary">Logout</a>
        {% endif %}
    </div>
</div>

<p>This is the main dashboard. Charts will be displayed here.</p>

{% endblock %}
</file>

<file path="templates/registration/login.html">
{% extends 'base.html' %}

{% block title %}Login{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <h2 class="mt-5">Login</h2>
        <form method="post" class="mt-4">
            {% csrf_token %}
            {% if form.errors %}
                <div class="alert alert-danger">
                    Your username and password didn't match. Please try again.
                </div>
            {% endif %}
            <div class="mb-3">
                <label for="id_username" class="form-label">Username</label>
                <input type="text" name="username" class="form-control" id="id_username" required>
            </div>
            <div class="mb-3">
                <label for="id_password" class="form-label">Password</label>
                <input type="password" name="password" class="form-control" id="id_password" required>
            </div>
            <button type="submit" class="btn btn-primary">Login</button>
        </form>
    </div>
</div>
{% endblock %}
</file>

<file path=".claude/settings.local.json">
{
  "permissions": {
    "allow": [
      "WebSearch",
      "WebFetch(domain:apidog.com)"
    ],
    "deny": [],
    "ask": []
  }
}
</file>

<file path="sample/department_kpi.csv">
평가년도,단과대학,학과,졸업생 취업률 (%),전임교원 수 (명),초빙교원 수 (명),연간 기술이전 수입액 (억원),국제학술대회 개최 횟수
2023,공과대학,컴퓨터공학과,85.5,15,4,8.5,2
2023,공과대학,전자공학과,88.2,18,3,12.1,3
2023,인문대학,국어국문학과,65.7,12,2,0.5,1
2023,인문대학,철학과,62.1,8,1,0.1,0
2024,공과대학,컴퓨터공학과,87.1,16,5,10.2,3
2024,공과대학,전자공학과,89.0,18,4,15.8,2
2024,인문대학,국어국문학과,68.2,12,2,0.8,1
2024,인문대학,철학과,63.5,8,2,0.2,1
2025,공과대학,컴퓨터공학과,88.0,17,5,13.5,4
2025,공과대학,전자공학과,90.5,19,5,22.0,3
2025,인문대학,국어국문학과,70.1,11,3,1.1,2
2025,인문대학,철학과,64.0,9,2,0.3,1
</file>

<file path="sample/publication_list.csv">
논문ID,게재일,단과대학,학과,논문제목,주저자,참여저자,학술지명,저널등급,Impact Factor,과제연계여부
PUB-23-001,2023-02-18,공과대학,전자공학과,A Study on Low-Power Semiconductor Design,김민준,박지훈;최민서,IEEE Transactions on Circuits and Systems,SCIE,3.9,Y
PUB-23-002,2023-05-22,인문대학,철학과,현대 분석철학의 언어적 전회에 관한 고찰,윤지원,강예원,철학연구,KCI,,N
PUB-24-001,2024-01-30,공과대학,컴퓨터공학과,Deep Learning based Anomaly Detection in Real-Time Traffic,이서연,정현우;김유진;한지민,Expert Systems with Applications,SCIE,8.5,Y
PUB-24-002,2024-04-11,공과대학,전자공학과,Next-Generation Display Material Analysis,김민준,윤태영,Journal of Materials Chemistry C,SCIE,6.4,Y
PUB-24-003,2024-07-29,인문대학,국어국문학과,1920년대 시문학에 나타난 모더니즘 수용 양상,박서정,이수빈,한국현대문학연구,KCI,,N
PUB-25-001,2025-06-15,공과대학,컴퓨터공학과,Federated Learning for Privacy-Preserving AI,이서연,정현우,IEEE Internet of Things Journal,SCIE,10.6,Y
</file>

<file path="sample/research_project_data.csv">
집행ID,과제번호,과제명,연구책임자,소속학과,지원기관,총연구비,집행일자,집행항목,집행금액,상태,비고
T2301001,NRF-2023-015,차세대 AI 반도체 설계,김민준,전자공학과,한국연구재단,500000000,2023-03-15,연구장비 도입,120000000,집행완료,A-1급 스펙트로미터
T2301002,IITP-A-23-101,자율주행 시뮬레이션 고도화,이서연,컴퓨터공학과,정보통신기획평가원,800000000,2023-04-20,외부전문가 활용비,8000000,집행완료,
T2301003,NRF-2023-015,차세대 AI 반도체 설계,김민준,전자공학과,한국연구재단,500000000,2023-05-10,시약 및 재료비,25500000,집행완료,
T2402001,SME-2024-TECH-01,중소기업 맞춤형 ERP 개발,박서준,산업공학과,중소벤처기업부,300000000,2024-02-28,인건비,50000000,집행완료,참여연구원 3개월 급여
T2402002,IITP-A-23-101,자율주행 시뮬레이션 고도화,이서연,컴퓨터공학과,정보통신기획평가원,800000000,2024-03-05,고성능 서버 임대,45000000,처리중,견적서 검토 단계
T2503001,NRF-2025-002,고대 철학 텍스트의 디지털 아카이빙,최은경,철학과,한국연구재단,80000000,2025-04-10,국외여비,4500000,집행완료,그리스 학회 참가
T2503002,SME-2024-TECH-01,중소기업 맞춤형 ERP 개발,박서준,산업공학과,중소벤처기업부,300000000,2025-05-20,기술이전료,15000000,집행완료,
T2503003,IITP-A-23-101,자율주행 시뮬레이션 고도화,이서연,컴퓨터공학과,정보통신기획평가원,800000000,2025-06-01,인건비,120000000,집행완료,
</file>

<file path="sample/student_roster.csv">
학번,이름,단과대학,학과,학년,과정구분,학적상태,성별,입학년도,지도교수,이메일
20201101,김유진,공과대학,컴퓨터공학과,4,학사,재학,여,2020,이서연,yjkim@university.ac.kr
20211205,박지훈,공과대학,전자공학과,3,학사,재학,남,2021,김민준,jhpark@university.ac.kr
20221302,이수빈,인문대학,국어국문학과,2,학사,재학,여,2022,박서정,sblee@university.ac.kr
20192101,정현우,공과대학,컴퓨터공학과,0,석사,재학,남,2024,이서연,hwjung@university.ac.kr
20201215,최민서,공과대학,전자공학과,4,학사,휴학,여,2020,김민준,mschoi@university.ac.kr
20231308,강예원,인문대학,철학과,1,학사,재학,여,2023,,ywkang@university.ac.kr
20222203,윤태영,공과대학,전자공학과,0,석사,재학,남,2025,김민준,tyyoon@university.ac.kr
20211120,한지민,공과대학,컴퓨터공학과,3,학사,재학,여,2021,이서연,jmhan@university.ac.kr
20181401,서준호,사범대학,교육학과,4,학사,졸업,남,2018,최은경,jhseo@university.ac.kr
</file>

<file path="supabase/migrations/20251031000000_create_initial_tables.sql">
-- 1. 도메인 테이블 생성
CREATE TABLE metric_records (
    id              BIGSERIAL PRIMARY KEY,
    year            INTEGER NOT NULL,
    department      VARCHAR(100) NOT NULL,
    metric_type     VARCHAR(50)  NOT NULL,
    metric_value    NUMERIC(18,4) NOT NULL,

    created_at      TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_at      TIMESTAMPTZ NOT NULL DEFAULT NOW(),

    CONSTRAINT uq_metric_records_business
        UNIQUE (year, department, metric_type)
);

-- 2. 조회 성능을 위한 복합 인덱스 생성
-- PRD의 주요 조회 패턴(연도 + 학과)에 맞춰 생성합니다.
CREATE INDEX idx_metric_records_year_department
    ON metric_records (year, department);

-- 3. updated_at 자동 갱신을 위한 트리거 함수 생성
-- 레코드가 업데이트될 때마다 updated_at 필드를 현재 시간으로 자동 설정합니다.
CREATE OR REPLACE FUNCTION set_updated_at()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

-- 4. 테이블에 트리거 적용
CREATE TRIGGER trg_metric_records_updated_at
BEFORE UPDATE ON metric_records
FOR EACH ROW
EXECUTE FUNCTION set_updated_at();

-- 5. 테이블 및 인덱스에 대한 주석 추가 (가독성 및 유지보수성 향상)
COMMENT ON TABLE metric_records IS 'Ecount에서 추출된 각 학과의 연도별 성과 지표를 저장하는 테이블';
COMMENT ON COLUMN metric_records.year IS '성과 지표의 해당 연도';
COMMENT ON COLUMN metric_records.department IS '성과 지표의 해당 학과';
COMMENT ON COLUMN metric_records.metric_type IS '성과 지표의 종류 (예: PAPER, BUDGET)';
COMMENT ON COLUMN metric_records.metric_value IS '성과 지표의 값';
COMMENT ON INDEX idx_metric_records_year_department IS '대시보드에서 연도와 학과로 데이터를 필터링하는 성능을 향상시키기 위한 인덱스';
</file>

</files>
