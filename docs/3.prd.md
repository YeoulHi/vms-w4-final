## 1. 제품 개요 (Product Overview)

본 문서는 '대학교 내부 데이터 시각화 대시보드' MVP 개발을 위한 제품 요구사항 명세서(PRD)이다.

이 프로젝트의 **핵심 목표(The One Thing)**는 **"최근 3년간, 학과별 핵심 성과 지표(논문 수, 예산)는 어떻게 변했는가?"** 라는 단 하나의 비즈니스 질문에 명확하고 시각적으로 답하는 것이다.

이를 위해 Ecount에서 추출한 엑셀 데이터를 시스템에 업로드하면, 지정된 차트를 자동 생성하는 최소 기능의 웹 애플리케이션을 개발한다. 본 MVP의 성공은 내부 베타테스트를 통해 '데이터를 보는 방식이 이전보다 훨씬 편해졌다'는 피드백을 얻는 것이다.

## 2. 이해관계자 (Stakeholders)

| 역할 | 설명 | 주요 관심사 |
| :--- | :--- | :--- |
| **관리자 (Admin)** | 데이터 담당자. Ecount 데이터를 추출하여 시스템에 업로드하는 실무자. | 데이터의 정확한 반영, 업로드 과정의 편의성, 오류 발생 시 명확한 원인 파악 |
| **내부 직원 (User)** | 의사결정권자 또는 각 학과 담당자. 대시보드를 통해 성과를 파악하는 최종 사용자. | 데이터의 직관적인 시각화, 원하는 정보(학과/연도)로의 빠른 필터링 |
| **개발자 (Operator)** | CTO인 나 자신. MVP를 기획하고 개발하는 담당자. | 명확하고 변경 가능성이 적은 요구사항, 최소 기능 구현을 통한 빠른 릴리즈 |

## 3. 포함 페이지 (Included Pages)

| 페이지 | 경로 | 설명 | 접근 권한 |
| :--- | :--- | :--- | :--- |
| **로그인 페이지** | `/login/` | Django 기본 세션 인증을 위한 로그인 화면 | All Users |
| **대시보드 페이지** | `/dashboard/` | 핵심 지표를 시각화한 차트가 표시되는 메인 페이지 | 내부 직원 (User) |
| **Admin 업로드** | `/admin/ingest/exceldata/` | 관리자가 엑셀 파일을 업로드하는 Django Admin 내 페이지 | 관리자 (Admin) |
| **API 엔드포인트** | `/api/dashboard/chart-data/` | 대시보드 페이지의 필터링에 따라 차트 데이터를 JSON으로 제공 | 내부 직원 (User) |

## 4. 사용자 여정 (User Journey)

### **🎯 타겟 유저 세그먼트 1: 관리자 (Admin)**

*   **목표:** 분기별/반기별로 취합한 Ecount 데이터를 시스템에 정확히 반영하여 최신 상태를 유지한다.

*   **여정 시나리오:**
    1.  브라우저를 열고 어드민 페이지 **`/admin/`** 으로 접속하여 로그인한다.
    2.  사이드바에서 [Ingest] > [ExcelData] 메뉴로 이동하여 업로드 페이지 **`/admin/ingest/exceldata/`** 로 진입한다.
    3.  '엑셀 파일 추가' 버튼을 눌러 로컬에 저장된 엑셀 파일을 선택하고 '저장' 버튼을 클릭한다.
    4.  **(성공 시)** 시스템은 파일을 파싱하여 DB에 저장하고, "총 150개의 데이터가 성공적으로 반영되었습니다." 라는 메시지를 **`/admin/ingest/exceldata/`** 페이지 상단에 표시한다.
    5.  **(실패 시)** 시스템은 트랜잭션을 롤백하고, "업로드 실패: 5번 행 '예산' 컬럼의 값이 올바르지 않습니다." 와 같이 구체적인 오류 메시지를 **`/admin/ingest/exceldata/`** 페이지 상단에 표시한다.

### **🎯 타겟 유저 세그먼트 2: 내부 직원 (User)**

*   **목표:** 회의나 보고 전, 학과별/연도별 성과 추이를 빠르고 직관적으로 파악한다.

*   **여정 시나리오:**
    1.  시스템 URL을 입력하여 **`/login/`** 페이지에 접속하고, 자신의 계정으로 로그인한다.
    2.  로그인 성공 후, 메인 **`/dashboard/`** 페이지로 자동 리디렉션된다.
    3.  초기 화면에서 '전체 학과'의 '최근 3년간' 성과 추이가 담긴 라인 차트와 막대 차트를 확인한다.
    4.  특정 학과의 성과가 궁금해져, **`/dashboard/`** 페이지 상단의 '학과 필터'에서 '컴퓨터공학과'를 선택한다.
    5.  페이지 새로고침 없이, 차트가 즉시 '컴퓨터공학과'의 데이터로만 갱신되는 것을 확인한다. (내부적으로 **`/api/dashboard/chart-data/`** 호출)

## 5. 정보 구조 (Information Architecture)

```text
project_root/
├── config/                 # Django 프로젝트 설정 (settings.py, urls.py)
│
├── apps/
│   ├── dashboard/          # "보여주는 쪽" 전담 앱
│   │   ├── urls.py         # /dashboard/, /api/dashboard/chart-data/ 라우팅
│   │   ├── views.py        # 템플릿 렌더링 및 API JSON 응답 로직 통합
│   │   └── templates/
│   │       └── dashboard/
│   │           └── index.html  # Chart.js를 사용한 단일 대시보드 UI
│   │
│   └── ingest/             # "데이터 들여오는 쪽" 전담 앱
│       ├── admin.py        # Admin 페이지에 업로드 기능 등록 및 처리 로직 연결
│       ├── models.py       # ExcelData 모델 정의 (DB 스키마)
│       └── services.py     # pandas를 이용한 핵심 파싱 및 저장(upsert) 로직
│
├── requirements.txt
└── manage.py
```